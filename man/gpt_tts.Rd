% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gpt_tts.R
\name{gpt_tts}
\alias{gpt_tts}
\title{Text-to-Speech with OpenAI (Audio Formats)}
\usage{
gpt_tts(
  text,
  instructions = "",
  model = "gpt-4o-mini-tts",
  voice = "alloy",
  format = c("mp3", "wav", "opus", "aac", "flac", "pcm"),
  speed = NULL,
  output_file = NULL,
  base_url = getOption("gptr.base_url", "https://api.openai.com"),
  api_key = Sys.getenv("OPENAI_API_KEY"),
  timeout = getOption("gptr.request_timeout", 30),
  retry_max = 3L,
  retry_backoff = function(i) 0.2 * i,
  ca_bundle = getOption("gptr.ca_bundle", NULL)
)
}
\arguments{
\item{text}{Single character string containing the text to synthesize.}

\item{instructions}{Provide extra instructions to the model.}

\item{model}{OpenAI text-to-speech model identifier to use.}

\item{voice}{Voice preset offered by the selected model.}

\item{format}{Audio container to request from the API; one of \code{"mp3"},
\code{"wav"}, \code{"opus"}, \code{"aac"}, \code{"flac"}, or \code{"pcm"}.}

\item{speed}{Optional playback speed multiplier accepted by the API.}

\item{output_file}{Optional path to write the audio to. When \code{NULL}, a unique
temporary file is created using the requested format.}

\item{base_url}{Base URL for the OpenAI-compatible API endpoint.}

\item{api_key}{API key used for authentication.}

\item{timeout}{Request timeout (in seconds) passed to the underlying HTTP
helper.}

\item{retry_max}{Maximum number of retry attempts before giving up.}

\item{retry_backoff}{Function returning the backoff delay (in seconds) between
retries.}

\item{ca_bundle}{Optional path to a custom certificate bundle.}
}
\value{
A \code{gptr_audio} object containing the file path, size (in bytes), and
the request metadata used to generate the audio.
}
\description{
Synthesize spoken audio from plain text by calling the OpenAI Text-to-Speech
endpoint. The helper wraps \code{openai_request_non_chat_services()} and stores the
binary response as an audio file on disk.
}
\details{
If \code{output_file} points to a directory that does not yet exist it is
created recursively. Any content-type returned by the service that does not
begin with \verb{audio/} (or is not a generic \code{octet-stream}) triggers a warning
but the payload is still written to disk to aid debugging.
}
\examples{
\dontrun{
audio <- gpt_tts("Hello from R!")
print(audio)
}

}

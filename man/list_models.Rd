% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/models_cache.R
\name{list_models}
\alias{list_models}
\title{List models across local backends (LM Studio, Ollama, LocalAI) and OpenAI.}
\usage{
list_models(
  provider = NULL,
  base_url = NULL,
  refresh = FALSE,
  openai_api_key = Sys.getenv("OPENAI_API_KEY", "")
)
}
\arguments{
\item{provider}{NULL (default, list all), or one of:
"lmstudio","ollama","localai","openai".}

\item{base_url}{Optional root URL to target a specific server. If NULL,
defaults from options are used for locals, and https://api.openai.com for OpenAI.}

\item{refresh}{Logical. If TRUE, forces a live probe and updates cache
(for locals) or bypasses cache (for OpenAI). Defaults to \code{FALSE}.}

\item{openai_api_key}{Optional OpenAI API key. If missing, falls back to
Sys.getenv("OPENAI_API_KEY"). If still empty, OpenAI rows will indicate
an auth_missing status (no stop).}
}
\value{
data.frame with columns:
provider, base_url, model_id, availability, cached_when, source, and optional status.
}
\description{
Behavior:
\itemize{
\item Local providers read from the in-session cache by default (fast). Use \code{refresh=TRUE}
to force a live probe of \verb{/v1/models} (Ollama falls back to \verb{/api/tags}).
\item OpenAI is included if an API key is available (or explicitly provided).
\item Output is normalized with an \code{availability} column:
\itemize{
\item "installed" for local backends
\item "catalog"   for OpenAI (account/catalog listing)
}
\item Stable columns: provider, base_url, model_id, availability, cached_when, source.
\item If OpenAI returns no models, a placeholder row is still returned with
\code{status = "empty_cache"} and \code{model_id = NA}.
}
}
